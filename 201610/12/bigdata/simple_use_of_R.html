<!DOCTYPE html>
<html>
<head>
    

    
<!-- Tencent Speed -->
<script>var _speedMark = new Date()</script>
<!-- End Tencent Speed -->
<!-- Tencent Analysis -->
<script async src="//tajs.qq.com/stats?sId=65854487"></script>
<!-- End Tencent Analysis -->


    



    <meta charset="utf-8">
    
    
    
    
    <title>Neil | 牛中超--R简介 | shugenniu&#39;s blogger</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="">
    <meta name="description" content="R简介像">
<meta name="keywords" content="sixtrees, 牛中超, hexo, gitpages, 博客, 个人博客">
<meta property="og:type" content="article">
<meta property="og:title" content="Neil | 牛中超--R简介">
<meta property="og:url" content="http://www.wanqing520.cn/201610/12/bigdata/simple_use_of_R.html">
<meta property="og:site_name" content="shugenniu&#39;s blogger">
<meta property="og:description" content="R简介像">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2017-12-13T11:08:20.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Neil | 牛中超--R简介">
<meta name="twitter:description" content="R简介像">
    
        <link rel="alternate" type="application/atom+xml" title="shugenniu&#39;s blogger" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">sixtrees</h5>
          <a href="mailto:zcniu1314@hotmail.com" title="zcniu1314@hotmail.com" class="mail">zcniu1314@hotmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/sixtrees" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://blog.csdn.net/u010570551" target="_blank" >
                <i class="icon icon-lg icon-csdn"></i>
                CSDN
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Neil | 牛中超--R简介</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Neil | 牛中超--R简介</h1>
        <h5 class="subtitle">
            
                <time datetime="2016-10-12T06:03:14.000Z" itemprop="datePublished" class="page-time">
  2016-10-12
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/bigdata/">bigdata</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#第1章-R简介"><span class="post-toc-number">1.</span> <span class="post-toc-text">第1章 R简介</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-2-6-生产序列"><span class="post-toc-number">1.0.1.</span> <span class="post-toc-text">1.2.6 生产序列</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-2-7-数据子集"><span class="post-toc-number">1.0.2.</span> <span class="post-toc-text">1.2.7 数据子集</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-2-8-矩阵和数组"><span class="post-toc-number">1.0.3.</span> <span class="post-toc-text">1.2.8 矩阵和数组</span></a></li></ol></li></ol></li></ol>
        </nav>
    </aside>


<article id="post-bigdata/simple_use_of_R"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Neil | 牛中超--R简介</h1>
        <div class="post-meta">
            <time class="post-time" title="2016-10-12 14:03:14" datetime="2016-10-12T06:03:14.000Z"  itemprop="datePublished">2016-10-12</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/bigdata/">bigdata</a></li></ul>



            


    <span id="{{ url_for(post.path) }}" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i> <span>{{__('post.visitors')}}</span>
    </span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h1 id="第1章-R简介"><a href="#第1章-R简介" class="headerlink" title="第1章 R简介"></a>第1章 R简介</h1><p>1.2.4 向量化<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; v&lt;-c(<span class="number">4</span>,<span class="number">7</span>,<span class="number">23.5</span>,<span class="number">67.2</span>,<span class="number">80</span>)</span><br><span class="line">&gt; x&lt;-sqrt(v)</span><br><span class="line">&gt; x</span><br><span class="line">[<span class="number">1</span>] <span class="number">2.000000</span> <span class="number">2.645751</span> <span class="number">4.847680</span> <span class="number">8.197561</span> <span class="number">8.944272</span></span><br></pre></td></tr></table></figure></p>
<p>也可以使用R的这个热性进行向量的算术运算。<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; v1&lt;-c(<span class="number">4</span>,<span class="number">6</span>,<span class="number">87</span>)</span><br><span class="line">&gt; v2&lt;-c(<span class="number">34</span>,<span class="number">32.4</span>,<span class="number">12</span>)</span><br><span class="line">&gt; v1+v2</span><br><span class="line">[<span class="number">1</span>] <span class="number">38.0</span> <span class="number">38.4</span> <span class="number">99.0</span></span><br></pre></td></tr></table></figure></p>
<p>如果两个向量的长度不同，R会自动的将较短的向量进行扩充。<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; v1&lt;-c(<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">24</span>)</span><br><span class="line">&gt; v2&lt;-c(<span class="number">10</span>,<span class="number">2</span>)</span><br><span class="line">&gt; v1+v2</span><br><span class="line">[<span class="number">1</span>] <span class="number">14</span>  <span class="number">8</span> <span class="number">18</span> <span class="number">26</span></span><br></pre></td></tr></table></figure></p>
<p>如果较长的向量的长度不是较短的向量的长度的整数倍，R将会给出警告，注意是警告而不是错误。<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt; v1&lt;-c(<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">24</span>)</span><br><span class="line">&gt; v2&lt;-c(<span class="number">10</span>,<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line">&gt; v1+v2</span><br><span class="line">[<span class="number">1</span>] <span class="number">14</span>  <span class="number">8</span> <span class="number">12</span> <span class="number">34</span></span><br><span class="line">Warning message:</span><br><span class="line">In v1 + v2 :</span><br><span class="line">  longer object length is not a multiple of shorter object length</span><br></pre></td></tr></table></figure></p>
<p>以上的内容是循环规则。</p>
<p>如前所述，单个数字在R中表示长度为1的向量。这种表示在下面的运算中非常方便：<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; v1&lt;-c(<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">24</span>)</span><br><span class="line">&gt; <span class="number">2</span>*v1</span><br><span class="line">[<span class="number">1</span>]  <span class="number">8</span> <span class="number">12</span> <span class="number">16</span> <span class="number">48</span></span><br></pre></td></tr></table></figure></p>
<p>注意，数字<code>2</code>被循环，导致v1的所有元素都被乘以2,。正如我们将看到的，这种循环跪着也适用于其他对象，如数组和矩阵。</p>
<p>1.2.5 因子<br>因子提供了一个简单而又紧凑的形式来处理分类数据（名义）。因子用水平来表示所有可能的取值。如果数据集有取值个数固定的名义变量，因子就特别有用。R中的图形函数和汇总函数就是应用了因子的这种有点。对用户来说，这种使用和显示因子数据的方式显然是易于理解的，而R内部以数值编码的方式来存储因子值，这将大大提高内存的利用效率。</p>
<p>下面举个例子来说明如何在R中创建因子。假设有10个人的性别向量。<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; g&lt;-c(<span class="string">"f"</span>,<span class="string">"m"</span>,<span class="string">"m"</span>,<span class="string">"m"</span>,<span class="string">"f"</span>,<span class="string">"m"</span>,<span class="string">"f"</span>,<span class="string">"m"</span>,<span class="string">"f"</span>,<span class="string">"m"</span>,<span class="string">"f"</span>,<span class="string">"f"</span>)</span><br><span class="line">&gt; g</span><br><span class="line"> [<span class="number">1</span>] <span class="string">"f"</span> <span class="string">"m"</span> <span class="string">"m"</span> <span class="string">"m"</span> <span class="string">"f"</span> <span class="string">"m"</span> <span class="string">"f"</span> <span class="string">"m"</span> <span class="string">"f"</span> <span class="string">"m"</span> <span class="string">"f"</span> <span class="string">"f"</span></span><br></pre></td></tr></table></figure></p>
<p>你可以把这个因子向量转为一个因子。<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; g&lt;-factor(g)</span><br><span class="line">&gt; g</span><br><span class="line"> [<span class="number">1</span>] f m m m f m f m f m f f</span><br><span class="line">Levels: f m</span><br></pre></td></tr></table></figure></p>
<p>注意，这里得到的因子不再是一个字符向量。上面说到，实际上这些因子在R内部表示为数值向量。在这个例子中，因子有两个水平，<code>f</code>和<code>m</code>，在R内部分别表示1和2.然而，我们不需要关系在内部是如何表示的，因为你可以使用原始的字符值，R在显示因子的时候，也使用这种字符方式。因此，出于效率的考虑，R因子的编码转换对用户是透明的。</p>
<p>假设另外有5个人，需要把他们的性别信息存储在另一个透明的因子对象中。假设他们都是男性。如果都仍然需要这个因子对象与对象g有两个相同的因子水平，则必须使用下面的命令。<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; other.g&lt;-factor(c(<span class="string">"m"</span>,<span class="string">"m"</span>,<span class="string">"m"</span>,<span class="string">"m"</span>,<span class="string">"m"</span>),levels = c(<span class="string">"f"</span>,<span class="string">"m"</span>))</span><br><span class="line">&gt; other.g</span><br><span class="line">[<span class="number">1</span>] m m m m m</span><br><span class="line">Levels: f m</span><br></pre></td></tr></table></figure></p>
<p>如果没有在输入参数中设定<code>level</code>参数，因子other.g将只有一个水平(‘m’).</p>
<p>在R这样的函数式编程语言中，最常见的函数之一就是像上例中的函数复合。</p>
<p>利用因子类型的数据，可以做的一件事情就是计算每个可能值得发生次数。例如：<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; table(g)</span><br><span class="line">g</span><br><span class="line">f m</span><br><span class="line"><span class="number">6</span> <span class="number">6</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; table(other.g)</span><br><span class="line">other.g</span><br><span class="line">f m</span><br><span class="line">0 5</span><br></pre></td></tr></table></figure>
<p><code>table</code>也可以获取多个因子的交叉表。假设向量<code>a</code>存储10个人的所属的年龄，那么可以得到这两个向量的交叉表。如下：<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt; a&lt;-factor(c(<span class="string">'adult'</span>,<span class="string">'adult'</span>,<span class="string">'juvenile'</span>,<span class="string">'juvenile'</span>,<span class="string">'adult'</span>,<span class="string">'adult'</span>,<span class="string">'adult'</span>,<span class="string">'juvenile'</span>,<span class="string">'adult'</span>,<span class="string">'juvenile'</span>))</span><br><span class="line">&gt; length(a)</span><br><span class="line">[<span class="number">1</span>] <span class="number">10</span></span><br><span class="line">&gt; length(g)</span><br><span class="line">[<span class="number">1</span>] <span class="number">10</span></span><br><span class="line">&gt; g</span><br><span class="line"> [<span class="number">1</span>] <span class="string">"f"</span> <span class="string">"m"</span> <span class="string">"m"</span> <span class="string">"f"</span> <span class="string">"m"</span> <span class="string">"f"</span> <span class="string">"m"</span> <span class="string">"f"</span> <span class="string">"m"</span> <span class="string">"f"</span></span><br><span class="line">&gt; table(a,g)</span><br><span class="line">          g</span><br><span class="line">a          f m</span><br><span class="line">  adult    <span class="number">2</span> <span class="number">4</span></span><br><span class="line">  juvenile <span class="number">3</span> <span class="number">1</span></span><br></pre></td></tr></table></figure></p>
<p>如果数据过长的话，可以采用<code>+</code>进行换行输入。<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; a&lt;-factor(c(<span class="string">'adult'</span>,<span class="string">'adult'</span>,<span class="string">'juvenile'</span>,<span class="string">'juvenile'</span>,<span class="string">'adult'</span>,</span><br><span class="line">+ <span class="string">'adult'</span>,<span class="string">'adult'</span>,<span class="string">'juvenile'</span>,<span class="string">'adult'</span>,<span class="string">'juvenile'</span>))</span><br><span class="line">&gt; a</span><br><span class="line"> [<span class="number">1</span>] adult    adult    juvenile juvenile adult    adult    adult    juvenile adult    juvenile</span><br><span class="line">Levels: adult juvenile</span><br></pre></td></tr></table></figure></p>
<p>有时候我们希望计算列联表的边际和相对频率。下面给出了上面数据集的性别和年龄因子的总计。<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt; t&lt;-table(a,g)</span><br><span class="line">&gt; margin.table(t,<span class="number">1</span>)</span><br><span class="line">a</span><br><span class="line">   adult juvenile</span><br><span class="line">       <span class="number">6</span>        <span class="number">4</span></span><br><span class="line">&gt; margin.table(t,<span class="number">2</span>)</span><br><span class="line">g</span><br><span class="line">f m</span><br><span class="line"><span class="number">5</span> <span class="number">5</span></span><br></pre></td></tr></table></figure></p>
<p>输入参数<code>1</code>和<code>2</code>分别代表列联表的第一和第二个维度，即表示t的行和列。每个维度边际和总计的相对频率如下：<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&gt; prop.table(t,<span class="number">1</span>)</span><br><span class="line">          g</span><br><span class="line">a                  f         m</span><br><span class="line">  adult    <span class="number">0.3333333</span> <span class="number">0.6666667</span></span><br><span class="line">  juvenile <span class="number">0.7500000</span> <span class="number">0.2500000</span></span><br><span class="line">&gt; prop.table(t,<span class="number">2</span>)</span><br><span class="line">          g</span><br><span class="line">a            f   m</span><br><span class="line">  adult    <span class="number">0.4</span> <span class="number">0.8</span></span><br><span class="line">  juvenile <span class="number">0.6</span> <span class="number">0.2</span></span><br><span class="line">&gt; prop.table(t)</span><br><span class="line">          g</span><br><span class="line">a            f   m</span><br><span class="line">  adult    <span class="number">0.2</span> <span class="number">0.4</span></span><br><span class="line">  juvenile <span class="number">0.3</span> <span class="number">0.1</span></span><br></pre></td></tr></table></figure></p>
<p>注意：如果需要的是百分比，可以在调用函数时乘以100<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="number">100</span>*prop.table(t)</span><br><span class="line">          g</span><br><span class="line">a           f  m</span><br><span class="line">  adult    <span class="number">20</span> <span class="number">40</span></span><br><span class="line">  juvenile <span class="number">30</span> <span class="number">10</span></span><br></pre></td></tr></table></figure></p>
<h3 id="1-2-6-生产序列"><a href="#1-2-6-生产序列" class="headerlink" title="1.2.6 生产序列"></a>1.2.6 生产序列</h3><p>R提供了狠多种生产不同类型序列的方法。比如：创建一个1~1000所有整数的向量，可以简单的输入<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; x&lt;-<span class="number">1</span>:<span class="number">1000</span></span><br><span class="line">&gt; length(x)</span><br><span class="line">[<span class="number">1</span>] <span class="number">1000</span></span><br></pre></td></tr></table></figure></p>
<p>通过上面的语句就创建了一个名为<code>x</code>的向量，它包含了1000个元素。<br>注意运算符<code>:</code>的优先级，我们通过下面的例子来说明这个问题。<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="number">10</span>:<span class="number">15</span>-<span class="number">1</span></span><br><span class="line">[<span class="number">1</span>]  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span> <span class="number">14</span></span><br><span class="line">&gt; <span class="number">10</span>:(<span class="number">15</span>-<span class="number">1</span>)</span><br><span class="line">[<span class="number">1</span>] <span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span> <span class="number">14</span></span><br></pre></td></tr></table></figure></p>
<p>这里需要理解第一个命令的结果（记住循环规则），<code>:</code>的优先级高于减法<code>-</code>。<br>同样，可以利用<code>seq()</code>生成实数序列。比如：<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; seq(-<span class="number">4</span>,<span class="number">1</span>,<span class="number">0.5</span>)</span><br><span class="line"> [<span class="number">1</span>] -<span class="number">4.0</span> -<span class="number">3.5</span> -<span class="number">3.0</span> -<span class="number">2.5</span> -<span class="number">2.0</span> -<span class="number">1.5</span> -<span class="number">1.0</span> -<span class="number">0.5</span>  <span class="number">0.0</span>  <span class="number">0.5</span>  <span class="number">1.0</span></span><br></pre></td></tr></table></figure></p>
<p>生成了一个从-4到1的步长为0.5的一个实数序列。函数seq还有其他的功能。下面举例说明seq的其他功能。<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">seq(from=<span class="number">1</span>,to=<span class="number">5</span>,length=<span class="number">4</span>)</span><br><span class="line">[<span class="number">1</span>] <span class="number">1.000000</span> <span class="number">2.333333</span> <span class="number">3.666667</span> <span class="number">5.000000</span></span><br><span class="line">&gt; seq(from=<span class="number">1</span>,to=<span class="number">5</span>,length=<span class="number">2</span>)</span><br><span class="line">[<span class="number">1</span>] <span class="number">1</span> <span class="number">5</span></span><br><span class="line">&gt; seq(length=<span class="number">10</span>,from = -<span class="number">2</span>,by = <span class="number">0.2</span>)</span><br><span class="line"> [<span class="number">1</span>] -<span class="number">2.0</span> -<span class="number">1.8</span> -<span class="number">1.6</span> -<span class="number">1.4</span> -<span class="number">1.2</span> -<span class="number">1.0</span> -<span class="number">0.8</span> -<span class="number">0.6</span> -<span class="number">0.4</span> -<span class="number">0.2</span></span><br></pre></td></tr></table></figure></p>
<p>通过上面的例子，我们可以看到我们可以任意指定参数的顺序：但是要先给出参数名，再给出参数值。因此，当我们使用多个参数且大部分参数都采用默认值的函数时，这将非常方便。一旦这些默认参数能满足我们的要求，我们就可以避免人为的设置这些参数。</p>
<p>另一个产生具有某种模式序列的有用的函数时req()函数。比如：<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt; rep(<span class="number">5</span>,<span class="number">10</span>)</span><br><span class="line"> [<span class="number">1</span>] <span class="number">5</span> <span class="number">5</span> <span class="number">5</span> <span class="number">5</span> <span class="number">5</span> <span class="number">5</span> <span class="number">5</span> <span class="number">5</span> <span class="number">5</span> <span class="number">5</span></span><br><span class="line">&gt; rep(<span class="string">"hi"</span>,<span class="number">3</span>)</span><br><span class="line">[<span class="number">1</span>] <span class="string">"hi"</span> <span class="string">"hi"</span> <span class="string">"hi"</span></span><br><span class="line">&gt; rep(<span class="number">1</span>:<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">[<span class="number">1</span>] <span class="number">1</span> <span class="number">2</span> <span class="number">1</span> <span class="number">2</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line">&gt; rep(<span class="number">1</span>:<span class="number">2</span>,each=<span class="number">3</span>)</span><br><span class="line">[<span class="number">1</span>] <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">2</span> <span class="number">2</span> <span class="number">2</span></span><br></pre></td></tr></table></figure></p>
<p><code>gl()</code>函数可用于生成带有因子的序列。这个函数的语法是<code>gl(k,n)</code>，其中k是因子水平的个数，n是每个每个因子水平的重复数。这里举两字例子：<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; gl(<span class="number">3</span>,<span class="number">5</span>)</span><br><span class="line"> [<span class="number">1</span>] <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">2</span> <span class="number">2</span> <span class="number">2</span> <span class="number">2</span> <span class="number">2</span> <span class="number">3</span> <span class="number">3</span> <span class="number">3</span> <span class="number">3</span> <span class="number">3</span></span><br><span class="line">Levels: <span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line">&gt; gl(<span class="number">2</span>,<span class="number">5</span>,labels=c(<span class="string">'female'</span>,<span class="string">'male'</span>))</span><br><span class="line"> [<span class="number">1</span>] female female female female female male   male   male   male   male  </span><br><span class="line">Levels: female male</span><br></pre></td></tr></table></figure></p>
<p>最后R有多个可以根据不同概率密度函数来生成随机序列的函数。这些函数的通用结果是<code>xfunc(n,par1,par2,...)</code>,其中，func是概率分布的名称，n是要生成的随机数的个数，<code>par1,par2,...</code>是概率密度函数所需要的一些参数值。例如，可以产生10个服从均值为0，标准差为1的正态分布的随机数值：<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; rnorm(<span class="number">10</span>)</span><br><span class="line"> [<span class="number">1</span>]  <span class="number">1.29219470</span> -<span class="number">0.38849339</span>  <span class="number">1.88505193</span>  <span class="number">0.48227844</span>  <span class="number">1.23505790</span>  <span class="number">1.49568939</span> -<span class="number">1.14704749</span> -<span class="number">0.41806913</span> -<span class="number">0.09506815</span>  <span class="number">0.73086971</span></span><br></pre></td></tr></table></figure></p>
<p>为了获得5个服从自由度为10的t分布的随机变量，可以输入：<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; rt(<span class="number">5</span>, df = <span class="number">10</span>)</span><br><span class="line">[<span class="number">1</span>]  <span class="number">1.4049026</span> -<span class="number">0.5510834</span>  <span class="number">0.1607854</span>  <span class="number">1.4629028</span> -<span class="number">0.6332299</span></span><br></pre></td></tr></table></figure></p>
<p>R还有很多其他的概率函数，以及其他获取概率密度、累计概率和这些分布的分位数函数。</p>
<h3 id="1-2-7-数据子集"><a href="#1-2-7-数据子集" class="headerlink" title="1.2.7 数据子集"></a>1.2.7 数据子集</h3><p>前面的例证提到，可以在方括号内放入元素的位置来获取向量的某个元素。R也允许在方括号中使用向量。R有很类型的索引向量。逻辑索引向量可以提取相应于真值的元素。<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; x&lt;-c(<span class="number">0</span>,-<span class="number">3</span>,<span class="number">4</span>,-<span class="number">1</span>,<span class="number">45</span>,<span class="number">90</span>,-<span class="number">5</span>)</span><br><span class="line">&gt; x&gt;<span class="number">0</span></span><br><span class="line">[<span class="number">1</span>] <span class="literal">FALSE</span> <span class="literal">FALSE</span>  <span class="literal">TRUE</span> <span class="literal">FALSE</span>  <span class="literal">TRUE</span>  <span class="literal">TRUE</span> <span class="literal">FALSE</span></span><br></pre></td></tr></table></figure></p>
<p>上面显示的第二个命令是逻辑条件。由于x是向量，所以将向量中的所有的元素与0进行比较，产生一个长度与向量x相同的逻辑值向量。如果使用该逻辑值向量对x进行索引，就可以得到相应TRUE值位置的向量x的元素。<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; x[x&gt;<span class="number">0</span>]</span><br><span class="line">[<span class="number">1</span>]  <span class="number">4</span> <span class="number">45</span> <span class="number">90</span></span><br></pre></td></tr></table></figure></p>
<p>利用R中的逻辑运算符，可以使用更复杂的逻辑索引向量。如下：<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; x[x&lt;=<span class="number">2</span>|x&gt;<span class="number">5</span>]</span><br><span class="line">[<span class="number">1</span>]  <span class="number">0</span> -<span class="number">3</span> -<span class="number">1</span> <span class="number">45</span> <span class="number">90</span> -<span class="number">5</span></span><br><span class="line">&gt; x[x&gt;<span class="number">40</span>&amp;x&lt;<span class="number">100</span>]</span><br><span class="line">[<span class="number">1</span>] <span class="number">45</span> <span class="number">90</span></span><br></pre></td></tr></table></figure></p>
<p>上面都是简单的逻辑运算。就不再详细解释了。</p>
<p>R还可以使用整数向量来提取向量中的多个元素，索引向量中的数字表示提取的元素在原向量中的位置。例如：<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt; x</span><br><span class="line">[<span class="number">1</span>]  <span class="number">0</span> -<span class="number">3</span>  <span class="number">4</span> -<span class="number">1</span> <span class="number">45</span> <span class="number">90</span> -<span class="number">5</span></span><br><span class="line">&gt; x[c(<span class="number">4</span>,<span class="number">6</span>)]</span><br><span class="line">[<span class="number">1</span>] -<span class="number">1</span> <span class="number">90</span></span><br><span class="line">&gt; x[<span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line">[<span class="number">1</span>]  <span class="number">0</span> -<span class="number">3</span>  <span class="number">4</span></span><br><span class="line">&gt; y&lt;-c(<span class="number">1</span>,<span class="number">4</span>)</span><br><span class="line">&gt; x[y]</span><br><span class="line">[<span class="number">1</span>]  <span class="number">0</span> -<span class="number">1</span></span><br></pre></td></tr></table></figure></p>
<p>另外可以使用一个负值的索引表示哪些元素可以排除。例如：<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; x[-<span class="number">1</span>]</span><br><span class="line">[<span class="number">1</span>] -<span class="number">3</span>  <span class="number">4</span> -<span class="number">1</span> <span class="number">45</span> <span class="number">90</span> -<span class="number">5</span></span><br><span class="line">&gt; x[-c(<span class="number">4</span>,<span class="number">6</span>)]</span><br><span class="line">[<span class="number">1</span>]  <span class="number">0</span> -<span class="number">3</span>  <span class="number">4</span> <span class="number">45</span> -<span class="number">5</span></span><br><span class="line">&gt; x[-(<span class="number">1</span>:<span class="number">3</span>)]</span><br><span class="line">[<span class="number">1</span>] -<span class="number">1</span> <span class="number">45</span> <span class="number">90</span> -<span class="number">5</span></span><br></pre></td></tr></table></figure></p>
<p>这里-1表示删除第一个位置上的元素，其他的类似。</p>
<p>可以通过R函数names()来给向量中的元素命名，对于命名的向量元素，可以通过字符串向量来进行索引。由于命名的元素位置更容易进驻，所以有时候更名元素更受欢迎。例如，在5个不同的地方测量了一个化学参数的测量值向量。可以创建如下的命名空间：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt; pH&lt;-c(4.5,7,7.3,8.2,6.3)</span><br><span class="line">&gt; names(pH)&lt;-c(&apos;area1&apos;,&apos;area2&apos;,&apos;mud&apos;,&apos;dam&apos;,&apos;middle&apos;)</span><br><span class="line">&gt; pH</span><br><span class="line"> area1  area2    mud    dam middle</span><br><span class="line">   4.5    7.0    7.3    8.2    6.3</span><br><span class="line">&gt; table(pH)</span><br><span class="line">pH</span><br><span class="line">4.5 6.3   7 7.3 8.2</span><br><span class="line">  1   1   1   1   1</span><br></pre></td></tr></table></figure></p>
<p>实际上，我们可以使用如下的方法进行创建。<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt; pH&lt;-c(area1=<span class="number">4.5</span>,area2=<span class="number">7</span>, mud = <span class="number">7.3</span>, dam = <span class="number">8.2</span>, middle = <span class="number">6.3</span>)</span><br><span class="line">&gt; pH[<span class="string">'middle'</span>]</span><br><span class="line">middle</span><br><span class="line">   <span class="number">6.3</span></span><br><span class="line">&gt; pH[c(<span class="string">'mud'</span>,<span class="string">'middle'</span>)]</span><br><span class="line">   mud middle</span><br><span class="line">   <span class="number">7.3</span>    <span class="number">6.3</span></span><br></pre></td></tr></table></figure></p>
<h3 id="1-2-8-矩阵和数组"><a href="#1-2-8-矩阵和数组" class="headerlink" title="1.2.8 矩阵和数组"></a>1.2.8 矩阵和数组</h3><p>数据元素可以保存在具有多个维度的对象中。在多种情况下这尤其有用，数组存储的是多维数据。矩阵是数组的特殊情况，它具有两个维度。在R中数组和矩阵都是带有维度这个属性的向量。假设一个数值向量c(45,23,66,77,33,44,56,12,78,23),下面要把这10个数值组织为一个矩阵：<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt; m&lt;- c(<span class="number">45</span>,<span class="number">23</span>,<span class="number">66</span>,<span class="number">77</span>,<span class="number">33</span>,<span class="number">44</span>,<span class="number">56</span>,<span class="number">12</span>,<span class="number">78</span>,<span class="number">23</span>)</span><br><span class="line">&gt; m</span><br><span class="line"> [<span class="number">1</span>] <span class="number">45</span> <span class="number">23</span> <span class="number">66</span> <span class="number">77</span> <span class="number">33</span> <span class="number">44</span> <span class="number">56</span> <span class="number">12</span> <span class="number">78</span> <span class="number">23</span></span><br><span class="line">&gt; dim(m)&lt;-c(<span class="number">2</span>,<span class="number">5</span>)</span><br><span class="line">&gt; m</span><br><span class="line">     [,<span class="number">1</span>] [,<span class="number">2</span>] [,<span class="number">3</span>] [,<span class="number">4</span>] [,<span class="number">5</span>]</span><br><span class="line">[<span class="number">1</span>,]   <span class="number">45</span>   <span class="number">66</span>   <span class="number">33</span>   <span class="number">56</span>   <span class="number">78</span></span><br><span class="line">[<span class="number">2</span>,]   <span class="number">23</span>   <span class="number">77</span>   <span class="number">44</span>   <span class="number">12</span>   <span class="number">23</span></span><br></pre></td></tr></table></figure></p>
<p>注意，数值如何分配到这2行5列的矩阵中。我们还可以使用更简单的命令：<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; m&lt;-matrix(c(<span class="number">45</span>,<span class="number">23</span>,<span class="number">66</span>,<span class="number">77</span>,<span class="number">33</span>,<span class="number">44</span>,<span class="number">56</span>,<span class="number">12</span>,<span class="number">78</span>,<span class="number">23</span>),<span class="number">2</span>,<span class="number">5</span>)</span><br><span class="line">&gt; m</span><br><span class="line">     [,<span class="number">1</span>] [,<span class="number">2</span>] [,<span class="number">3</span>] [,<span class="number">4</span>] [,<span class="number">5</span>]</span><br><span class="line">[<span class="number">1</span>,]   <span class="number">45</span>   <span class="number">66</span>   <span class="number">33</span>   <span class="number">56</span>   <span class="number">78</span></span><br><span class="line">[<span class="number">2</span>,]   <span class="number">23</span>   <span class="number">77</span>   <span class="number">44</span>   <span class="number">12</span>   <span class="number">23</span></span><br></pre></td></tr></table></figure></p>
<p>通过上面的这两个例子，我们注意到向量中的数据通过矩阵的列进行拓展。我们可以通过指定matrix的参数来指定向量以按行的方式进行拓展。<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; m&lt;-m&lt;-matrix(c(<span class="number">45</span>,<span class="number">23</span>,<span class="number">66</span>,<span class="number">77</span>,<span class="number">33</span>,<span class="number">44</span>,<span class="number">56</span>,<span class="number">12</span>,<span class="number">78</span>,<span class="number">23</span>),<span class="number">2</span>,<span class="number">5</span>,byrow = <span class="literal">T</span>)</span><br><span class="line">&gt; m</span><br><span class="line">     [,<span class="number">1</span>] [,<span class="number">2</span>] [,<span class="number">3</span>] [,<span class="number">4</span>] [,<span class="number">5</span>]</span><br><span class="line">[<span class="number">1</span>,]   <span class="number">45</span>   <span class="number">23</span>   <span class="number">66</span>   <span class="number">77</span>   <span class="number">33</span></span><br><span class="line">[<span class="number">2</span>,]   <span class="number">44</span>   <span class="number">56</span>   <span class="number">12</span>   <span class="number">78</span>   <span class="number">23</span></span><br></pre></td></tr></table></figure></p>
<p>如矩阵的显示，我们可以通过类似以向量中的索引的方式来访问矩阵的元素。但是现在需要两个索引，因为矩阵至少是二维的。<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; m[<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">[<span class="number">1</span>] <span class="number">12</span></span><br></pre></td></tr></table></figure></p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2017-12-13T11:08:20.000Z" itemprop="dateUpdated">2017-12-13 19:08:20</time>
</span><br>


        
        版权链接：<a href="/201610/12/bigdata/simple_use_of_R.html" target="_blank" rel="external">http://www.wanqing520.cn/201610/12/bigdata/simple_use_of_R.html</a>
        
    </div>
    
    <footer>
        <a href="http://www.wanqing520.cn">
            <img src="/img/avatar.jpg" alt="sixtrees">
            sixtrees
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            

            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://www.wanqing520.cn/201610/12/bigdata/simple_use_of_R.html&title=《Neil | 牛中超--R简介》 — shugenniu's blogger&pic=http://www.wanqing520.cn/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.wanqing520.cn/201610/12/bigdata/simple_use_of_R.html&title=《Neil | 牛中超--R简介》 — shugenniu's blogger&source=shugen使用hexo搭建的个人博客" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://www.wanqing520.cn/201610/12/bigdata/simple_use_of_R.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Neil | 牛中超--R简介》 — shugenniu's blogger&url=http://www.wanqing520.cn/201610/12/bigdata/simple_use_of_R.html&via=http://www.wanqing520.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://www.wanqing520.cn/201610/12/bigdata/simple_use_of_R.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/201610/12/bigdata/2016-10-12-R-Using-China-Source.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Neil | 牛中超--R使用北京的镜像</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/201610/12/java/2016-10-12-OutofMemory-in-Action.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Neil | 牛中超--OutofMemory in Action</h4>
      </a>
    </div>
  
</nav>



    








<section class="comments" id="comments">
    <div style="text-align:center">如果没有github账号，请邮件联系~~~</div>
    <div id="gitment_thread"></div>
    <link rel="stylesheet" href="//unpkg.com/gitment/style/default.css">
    <script src="//unpkg.com/gitment/dist/gitment.browser.js"></script>
    <script>
        var gitment = new Gitment({
            owner: 'sixtrees',
            repo: 'sixtrees.github.com',
            oauth: {
                client_id: '651c0703fd0f7a653339',
                client_secret: 'f97e51b5beaf2a65f63ffb745c94514023b91415',
            },
        })
        gitment.render('comments')
    </script>
</section>










</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢打赏~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.jpg" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>sixtrees &copy; 2018</span>
            <span>
                
                <a href="http://www.miitbeian.gov.cn/" target="_blank">皖ICP备17008452号-2</a><br>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://www.wanqing520.cn/201610/12/bigdata/simple_use_of_R.html&title=《Neil | 牛中超--R简介》 — shugenniu's blogger&pic=http://www.wanqing520.cn/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.wanqing520.cn/201610/12/bigdata/simple_use_of_R.html&title=《Neil | 牛中超--R简介》 — shugenniu's blogger&source=shugen使用hexo搭建的个人博客" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://www.wanqing520.cn/201610/12/bigdata/simple_use_of_R.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Neil | 牛中超--R简介》 — shugenniu's blogger&url=http://www.wanqing520.cn/201610/12/bigdata/simple_use_of_R.html&via=http://www.wanqing520.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://www.wanqing520.cn/201610/12/bigdata/simple_use_of_R.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACt0lEQVR42u3aQWoDMQwF0Nz/0i10VWhm8iVZJIU3qzI0Yz8vLPOtxyN+vn6ev29+v0/+5/4/q9859uDh4eG1pn713GPuB05gyUIko1/OBA8PD2+Ndz+56tZchSXF5r54XL7Hw8PDeyvvfkLJxt1bAjw8PLz/zsuDhiSwiKaIh4eH95G8JIw4FRDki5LP4UDWgoeHhxfzquHCJ/y9eL+Hh4eHN7hVzzf3fBLVTX80Wzw8PLwFXj5kvutWGwLyJcirQHlF8fDw8Fq8++C1GtrmAUQeguTR8JPCgIeHh3eIlwyZR6jz8KJaKl68wcPDw1vm9TD5wL2Gg8mRHQ8PD2+Dl4cLSak4da2VxBDlwAIPDw9vgbfBONUCW42GL7+Ah4eHd4iXb6/5YTonFa6yitdyeHh4eHu8XlCbF5VqRDsJI15UPDw8PLwxb7Kh9yLdPK6dHKzx8PDwtnmn4oOz9apXZp7c7+Hh4eEt8JIf55dh1Rau/CnPDQ8PD2+BVz3aVpuf8vh1HmdEB2s8PDy8Ma93NVUNMqpLUw0yLr+Gh4eHt8zLr8GS4tFrHagGHy8WCA8PD2+B14sPkuihulj5dt+7GMPDw8Pb4+UfTd5Mlm8v8sDDw8M7xUui0uqhtjfRvPmggMTDw8M7yssPsr0AIg8X8qqVHNbx8PDwNnh56NCLFSbFoNpudXkBhoeHh7fMq6YX88N0L5iIrr7w8PDwFng5qVowqr9qJs29L+Dh4eENeJO2qt6mXG1BqI57eaTGw8PDO8Trbb75QuSkSWmpjoKHh4c351WLQe9XvW09jzkuCwMeHh7eGi8//k6Qk6Nz85iOh4eH91ZedXOvXoM9ik8yczw8PLzP4VVji7wknGopwMPDw9vm9cKIybbea+Qqd0bg4eHhLfAmjU1nGw7yK7RqYIGHh4d3iPcN/Vdpzg4Fy0oAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>



<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" async></script>




<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>





    <!-- custom analytics part create by xiamo -->
<script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
<script>AV.initialize("{{theme.leancloud_visitors.app_id}}", "{{theme.leancloud_visitors.app_key}}");</script>
<script>
    function showTime(Counter) {
        var query = new AV.Query(Counter);
        $(".leancloud_visitors").each(function() {
            var url = $(this).attr("id").trim();
            query.equalTo("url", url);
            query.find({
                success: function(results) {
                    if (results.length == 0) {
                        var content = '0 ' + $(document.getElementById(url)).text();
                        $(document.getElementById(url)).text(content);
                        return;
                    }
                    for (var i = 0; i < results.length; i++) {
                        var object = results[i];
                        var content = object.get('time') + ' ' + $(document.getElementById(url)).text();
                        $(document.getElementById(url)).text(content);
                    }
                },
                error: function(object, error) {
                    console.log("Error: " + error.code + " " + error.message);
                }
            });

        });
    }

    function addCount(Counter) {
        var Counter = AV.Object.extend("Counter");
        url = $(".leancloud_visitors").attr('id').trim();
        title = $(".leancloud_visitors").attr('data-flag-title').trim();
        var query = new AV.Query(Counter);
        query.equalTo("url", url);
        query.find({
            success: function(results) {
                if (results.length > 0) {
                    var counter = results[0];
                    counter.fetchWhenSave(true);
                    counter.increment("time");
                    counter.save(null, {
                        success: function(counter) {
                            var content =  counter.get('time') + ' ' + $(document.getElementById(url)).text();
                            $(document.getElementById(url)).text(content);
                        },
                        error: function(counter, error) {
                            console.log('Failed to save Visitor num, with error message: ' + error.message);
                        }
                    });
                } else {
                    var newcounter = new Counter();
                    newcounter.set("title", title);
                    newcounter.set("url", url);
                    newcounter.set("time", 1);
                    newcounter.save(null, {
                        success: function(newcounter) {
                            console.log("newcounter.get('time')="+newcounter.get('time'));
                            var content = newcounter.get('time') + ' ' + $(document.getElementById(url)).text();
                            $(document.getElementById(url)).text(content);
                        },
                        error: function(newcounter, error) {
                            console.log('Failed to create');
                        }
                    });
                }
            },
            error: function(error) {
                console.log('Error:' + error.code + " " + error.message);
            }
        });
    }
    $(function() {
        var Counter = AV.Object.extend("Counter");
        if ($('.leancloud_visitors').length == 1) {
            addCount(Counter);
        } else if ($('.post-title-link').length > 1) {
            showTime(Counter);
        }
    });
</script>




<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = 'shugenniu的博客';
            clearTimeout(titleTime);
        } else {
            document.title = 'shugenniu的博客';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
